{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/js/Camera.js","webpack:///./src/js/Entity.js","webpack:///./src/js/Game.js","webpack:///./src/js/Keyboard.js","webpack:///./src/js/SpriteSet.js","webpack:///./src/js/entities.js","webpack:///./src/js/loaders.js","webpack:///./src/js/main.js","webpack:///./src/js/math.js"],"names":["Camera","pos","Vec2","size","dir","x","y","Entity","vel","Game","spriteSheet","indie","gravity","camera","set","play","images","ctx","canvas","this_","render","fillStyle","fillRect","width","height","drawImage","bg","score","update","draw","requestAnimationFrame","Keyboard","keyStates","Map","e","key","code","has","preventDefault","keyState","type","get","window","forEach","addEventListener","eName","handleEvent","SpriteSet","image","sprites","name","buffer","document","createElement","getContext","context","createIndie","speed","define","input","listenTo","console","log","focus","parseInt","check","loadImage","url","Promise","Image","resolve","src","IMAGES","getElementById","imgs","push","all","then","logo","map","scoreboard","font","textAlign","text","start","startScreen","fillText","setInterval","ts","game","gameImgs","cancelAnimationFrame"],"mappings":"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","file":"bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./src/js/main.js\");\n","import {\n    Vec2\n} from \"./math\";\n\nexport default class Camera {\n    constructor() {\n        this.pos = new Vec2(0, 0);\n        this.size = new Vec2(2115 - 640, 709 - 200);\n    }\n    focus(pos, dir) {\n        if (dir.x > 0) {\n            if(pos.x - this.pos.x >= 400) this.pos.x = pos.x - 400;\n        } else if (dir.x < 0){\n            if(pos.x - this.pos.x <= 200) this.pos.x = pos.x - 200;\n        }        \n        this.pos.y = pos.y - 50;\n    }\n    check() {\n        if (this.pos.x > this.size.x) this.pos.x = this.size.x;\n        if (this.pos.y > this.size.y) this.pos.y = this.size.y;\n        if (this.pos.x < 0) this.pos.x = 0;\n        if (this.pos.y < 0) this.pos.y = 0;\n    }\n}","import { Vec2 } from \"./math\";\n\nexport default class Entity{\n    constructor(){\n        this.pos = new Vec2(0,0);\n        this.vel = new Vec2(0,0);\n    }\n}","import {\n    createIndie\n} from \"./entities.js\";\nimport Camera from \"./Camera.js\";\n\n\nexport default class Game {\n    constructor(spriteSheet) {\n        const indie = createIndie(spriteSheet);\n        const gravity = 0.3;\n        const camera = new Camera();\n        camera.pos.set(0,270);\n        this.play = function (images, ctx, canvas) {\n            const this_ = this;\n            indie.vel.set(0, 0);\n\n            function render() {\n                ctx.fillStyle = \"black\";\n                ctx.fillRect(0, 0, canvas.width, canvas.height);\n                ctx.drawImage(images.bg, camera.pos.x, camera.pos.y, 320, 200, 0, 0, canvas.width, 250);\n                ctx.drawImage(images.score, 10, 260, 620, 130);\n                indie.update();\n                indie.draw(ctx,camera);\n                requestAnimationFrame(render);\n            }\n            render();\n        }\n    }\n    start(images, ctx, canvas) {\n        this.play(images, ctx, canvas);\n    }\n}","export default class Keyboard {\n    constructor() {\n        this.keyStates = new Map();\n\n    }\n    handleEvent(e) {\n        const key = e.code;\n        if (!this.keyStates.has(key)) {\n            return;\n        }\n        e.preventDefault();        \n        const keyState = e.type === 'keydown' ? 1 : 0;\n        if (this.keyStates.get(key) === keyState) return;\n        this.keyStates.set(key, keyState);\n\n    }\n    listenTo(window) {\n        ['keydown', 'keyup'].forEach(eName => {\n            window.addEventListener(eName, e => {\n                this.handleEvent(e);\n            });\n        });\n        [\"KeyA\",\"KeyW\",\"KeyD\",\"KeyS\"].forEach(key => this.keyStates.set(key,0));\n\n    }\n}","export default class SpriteSet {\n    constructor(image, width, height) {\n        this.image = image;\n        this.width = width;\n        this.height = height;\n        this.sprites = new Map();\n    }\n    define(name, x, y, width, height) {\n        const buffer = document.createElement(\"canvas\");\n        buffer.width = width;\n        buffer.height = height;\n        buffer.getContext(\"2d\").drawImage(\n            this.image,\n            x, y,\n            width, height,\n            0, 0,\n            width, height\n        )\n        this.sprites.set(name, buffer);\n    }\n    draw(name, context, x, y) {\n        const buffer = this.sprites.get(name)\n        context.drawImage(buffer, x, y);\n    }\n}","import Entity from \"./Entity\";\nimport SpriteSet from \"./SpriteSet.js\"\nimport Keyboard from \"./Keyboard.js\";\nexport function createIndie(image) {\n    const indie = new Entity();\n    indie.pos.set(50, 320);\n    indie.speed = 2;\n    const sprites = new SpriteSet(image, 30, 50);\n    sprites.define(\"idle\", 0, 0, 30, 50);\n    const input = new Keyboard();\n    input.listenTo(window);\n    const gravity = 1;    \n    indie.update = function () {\n        this.vel.x = (-input.keyStates.get(\"KeyA\") + input.keyStates.get(\"KeyD\")) * this.speed;\n        this.vel.y = (-input.keyStates.get(\"KeyW\") + input.keyStates.get(\"KeyS\")) * this.speed;\n        this.vel.y += gravity;\n        this.pos.x += this.vel.x;\n        this.pos.y += this.vel.y;\n        \n        if(this.pos.x < 0) this.pos.x = 0;\n        if(this.pos.y < 0) this.pos.y = 0;\n        if(this.pos.x > 2115 - 30) this.pos.x = 2115 - 30;\n        if(this.pos.y > 709) this.pos.y = 709;\n        \n    }\n    indie.draw = function (ctx, camera) {\n        console.log(this.vel);\n        camera.focus(this.pos, {\n            x: parseInt(this.vel.x / this.speed),\n            y: parseInt(this.vel.y / this.speed)\n        });\n        camera.check();\n        sprites.draw(\"idle\", ctx, this.pos.x - camera.pos.x, this.pos.y - camera.pos.y);\n        console.log(camera.pos);\n    }\n    return indie;\n}","export function loadImage(url){\n    return new Promise(resolve =>{\n        const image = new Image();\n        image.addEventListener('load', () =>{\n            resolve(image);\n        });\n        image.src = \"images/\" + url;\n    })\n}","import {\n    loadImage\n} from \"./loaders.js\";\nimport Game from \"./Game.js\"\nimport SpriteSet from \"./SpriteSet.js\";\n\nconst IMAGES = [\"logo.png\", \"mapa.png\", \"sprites.png\", \"scoreboard.jpg\"];\n\ndocument.addEventListener(\"DOMContentLoaded\", function () {\n    const canvas = document.getElementById(\"screen\");\n    const ctx = canvas.getContext(\"2d\");\n    ctx.fillStyle = \"black\";\n    ctx.fillRect(0, 0, canvas.width, canvas.height);\n    const imgs = [];\n    IMAGES.forEach(url => {\n        imgs.push(loadImage(url));\n    });\n    Promise.all(imgs).then(([logo, map, spriteSheet, scoreboard]) => {\n        ctx.drawImage(logo, 120, 30, 400, 126);\n        ctx.font = \"40px Cousine, monospace\";\n        ctx.textAlign = \"center\";\n        let text = false;\n        let start = false;\n\n        function startScreen() {\n            if (text) {\n                ctx.fillStyle = \"#d0dc71\";\n                ctx.fillText(\"PRESS ENTER TO START\", canvas.width / 2, canvas.height * 0.65);\n            } else {\n                ctx.fillStyle = \"black\";\n                ctx.fillRect(0, 200, canvas.width, canvas.height);\n            }\n            if (!start) {\n                requestAnimationFrame(startScreen);\n            } else {\n                ctx.fillStyle = \"black\";\n                ctx.fillRect(0, 200, canvas.width, canvas.height);\n            }\n        };\n        setInterval(() => text = !text, 1000);\n        let ts = requestAnimationFrame(startScreen);\n        const game = new Game(spriteSheet);\n        const gameImgs = {\n            bg: map,\n            score: scoreboard\n        }\n        \n        window.addEventListener(\"keydown\", e => {\n            if (e.key == \"Enter\") {\n                start = true;\n                cancelAnimationFrame(ts)\n                game.start(gameImgs, ctx, canvas);\n            }\n        });\n    });\n});","export class Vec2 {\n    constructor(x, y) {\n        this.x = x;\n        this.y = y;\n    }\n    set(x, y) {\n        this.x = x;\n        this.y = y;\n    }\n\n}"],"sourceRoot":""}