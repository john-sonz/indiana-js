{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/js/Entity.js","webpack:///./src/js/Game.js","webpack:///./src/js/SpriteSet.js","webpack:///./src/js/entities.js","webpack:///./src/js/loaders.js","webpack:///./src/js/main.js","webpack:///./src/js/math.js"],"names":["Entity","pos","vel","Game","spriteSheet","indie","gravity","play","images","ctx","canvas","this_","x","y","render","drawImage","bg","width","score","update","draw","requestAnimationFrame","SpriteSet","image","height","sprites","Map","name","buffer","document","createElement","getContext","set","context","get","createIndie","define","console","log","loadImage","url","Promise","Image","addEventListener","resolve","src","IMAGES","getElementById","fillStyle","fillRect","imgs","forEach","push","all","then","logo","map","scoreboard","font","textAlign","text","start","startScreen","fillText","setInterval","ts","game","gameImgs","window","e","key","cancelAnimationFrame","Vec2"],"mappings":"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","file":"bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./src/js/main.js\");\n","import { Vec2 } from \"./math\";\r\n\r\nexport default class Entity{\r\n    constructor(){\r\n        this.pos = new Vec2(0,0);\r\n        this.vel = new Vec2(0,0);\r\n    }\r\n}","import {\r\n    createIndie\r\n} from \"./entities.js\";\r\n\r\n\r\nexport default class Game {\r\n    constructor(spriteSheet) {\r\n        const indie = createIndie(spriteSheet);\r\n        const gravity = 0.3;\r\n        this.play = function (images, ctx, canvas) {\r\n            const this_ = this;\r\n            indie.vel.x = 3;\r\n            indie.vel.y = -5;\r\n            function render() {\r\n                ctx.drawImage(images.bg, 0, 270, 320, 200, 0, 0, canvas.width, 250);\r\n                ctx.drawImage(images.score, 10, 260, 620, 130);\r\n                indie.update();\r\n                indie.vel.y += gravity;\r\n                indie.draw(ctx);                \r\n                requestAnimationFrame(render);\r\n            }\r\n            render();\r\n        }\r\n    }\r\n    start(images, ctx, canvas) {\r\n        this.play(images, ctx, canvas);\r\n    }\r\n}","export default class SpriteSet {\r\n    constructor(image, width, height) {\r\n        this.image = image;\r\n        this.width = width;\r\n        this.height = height;\r\n        this.sprites = new Map();\r\n    }\r\n    define(name, x, y, width, height) {\r\n        const buffer = document.createElement(\"canvas\");\r\n        buffer.width = width;\r\n        buffer.height = height;\r\n        buffer.getContext(\"2d\").drawImage(\r\n            this.image,\r\n            x, y,\r\n            width, height,\r\n            0, 0,\r\n            width, height\r\n        )\r\n        this.sprites.set(name, buffer);\r\n    }\r\n    draw(name, context, x, y) {\r\n        const buffer = this.sprites.get(name)\r\n        context.drawImage(buffer, x, y);\r\n    }\r\n}","import Entity from \"./Entity\";\r\nimport SpriteSet from \"./SpriteSet.js\"\r\nexport function createIndie(image) {\r\n    const indie = new Entity();\r\n    indie.pos.set(50,50);\r\n    const sprites = new SpriteSet(image, 30, 50);\r\n    sprites.define(\"idle\", 0, 0, 30, 50);\r\n\r\n    indie.update = function(){\r\n        this.pos.x += this.vel.x;\r\n        this.pos.y += this.vel.y;\r\n    }\r\n    indie.draw = function(ctx){\r\n        sprites.draw(\"idle\", ctx, this.pos.x, this.pos.y);\r\n    }\r\n    console.log(indie);\r\n    return indie;\r\n}","export function loadImage(url){\r\n    return new Promise(resolve =>{\r\n        const image = new Image();\r\n        image.addEventListener('load', () =>{\r\n            resolve(image);\r\n        });\r\n        image.src = \"images/\" + url;\r\n    })\r\n}","import {\r\n    loadImage\r\n} from \"./loaders.js\";\r\nimport Game from \"./Game.js\"\r\nimport SpriteSet from \"./SpriteSet.js\";\r\n\r\nconst IMAGES = [\"logo.png\", \"mapa.png\", \"sprites.png\", \"scoreboard.jpg\"];\r\n\r\ndocument.addEventListener(\"DOMContentLoaded\", function () {\r\n    const canvas = document.getElementById(\"screen\");\r\n    const ctx = canvas.getContext(\"2d\");\r\n    ctx.fillStyle = \"black\";\r\n    ctx.fillRect(0, 0, canvas.width, canvas.height);\r\n    const imgs = [];\r\n    IMAGES.forEach(url => {\r\n        imgs.push(loadImage(url));\r\n    });\r\n    Promise.all(imgs).then(([logo, map, spriteSheet, scoreboard]) => {\r\n        ctx.drawImage(logo, 120, 30, 400, 126);\r\n        ctx.font = \"40px Cousine, monospace\";\r\n        ctx.textAlign = \"center\";\r\n        let text = false;\r\n        let start = false;\r\n\r\n        function startScreen() {\r\n            if (text) {\r\n                ctx.fillStyle = \"#d0dc71\";\r\n                ctx.fillText(\"PRESS ENTER TO START\", canvas.width / 2, canvas.height * 0.65);\r\n            } else {\r\n                ctx.fillStyle = \"black\";\r\n                ctx.fillRect(0, 200, canvas.width, canvas.height);\r\n            }\r\n            if (!start) {\r\n                requestAnimationFrame(startScreen);\r\n            } else {\r\n                ctx.fillStyle = \"black\";\r\n                ctx.fillRect(0, 200, canvas.width, canvas.height);\r\n            }\r\n        };\r\n        setInterval(() => text = !text, 1000);\r\n        let ts = requestAnimationFrame(startScreen);\r\n        const game = new Game(spriteSheet);\r\n        const gameImgs = {\r\n            bg: map,\r\n            score: scoreboard\r\n        }\r\n        \r\n        window.addEventListener(\"keydown\", e => {\r\n            if (e.key == \"Enter\") {\r\n                start = true;\r\n                cancelAnimationFrame(ts)\r\n                game.start(gameImgs, ctx, canvas);\r\n            }\r\n        });\r\n    });\r\n});","export class Vec2 {\r\n    constructor(x, y) {\r\n        this.x = x;\r\n        this.y = y;\r\n    }\r\n    set(x, y) {\r\n        this.x = x;\r\n        this.y = y;\r\n    }\r\n\r\n}"],"sourceRoot":""}